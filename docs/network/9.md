---
id: 9
title: OSI 7 layer
tags:
  - Network
---

### OSI 7 Layer이란?

네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리해 각 계층간 상호방식을 정해둠.

#### 문제점

과거 여러 정보통신 업체에서 자사 장비간 연결만 지원하고 타사 장비와의 호환성은 지원하지 않음

1984년 ISO에서 상호 이질적인 네트워크 간 연결에 호환성 결여를 막기위해 OSI 모델을 제시, 네트워크를 이루고 있는 구성요소들을 7단계의 계층적 방법으로 나누고, 각 계층의 표준을 정한 것.

표준화를 통해 장비별로 이질적인 포트, 프로토콜의 호환문제를 해결하고 OSI 모델을 이용해 네트워크 시스템에서 일어나는 일을 쉽게 설명하기 위함.

### 통신 프로토콜

1 이상의 실체 간에 무엇을, 언제, 어떻게 통신하는가에 대한 절차/규범/규정/규칙

* 구성요소
    * 형식(Syntax: 문법)
        * 데이터 포맷: 통신, 처리, 해석하는데 적합하도록 형식화/규격화된 표현
        * 부호화: 원천어와 부호어 간의 대응 관계(압축, 오류제어, 암호화 등)
    * 의미(Semantic)
        * 특정 패턴을 어떻게 해석하고, 어떤 동작을 할 것인가 결정
        * 전송의 조정 및 오류 처리를 위한 제어정보
    * 타이밍
        * 속도일치 및 순서제어 등

* 주요기능
    - 에러 제어
        - 전송 중 에러 검출 및 에러 정정
    - 캡슐화
        - 통신계층 상의 각 계층이 자신만의 특정제어정보를 추가하는 것
    - 연결 제어 or 세션 관리
        - 연결 지향적 통신에서 연결 설정, 데이터 전달, 연결 종료 절차의 제어
    - 순서 제어
        - 순서 역전, 중복 패킷 발생 등의 방지
    - 흐름 제어
        - 보낼 데이터량/전송률의 제한
    - 혼잡 제어
        - 포화/대기 패킷 수의 제한을 위한 제어 기법
    - 동기화
        - 송수신 양측 간에 시간 관계(위상)의 일치
    - 주소지정
        - 호스트/디바이스/프로세스 등을 유일하게 식별할 수 있는 방법 제공
    - 단편화 및 재조립
        - 데이터 패킷을 전송에 적당한 크기로 분해, 조립
    - 데이터의 형식화 등

### Layer Protocol이란?

* 프로토콜의 스택
    - 계층화된 프로토콜들의 집단

* OSI 계층 모델에서는 프로토콜의 정의가 엄격
    - 각 계층에서 통신을 담당하고 있는 것을 엔티티라고 하고,
    - 동일 계층 엔티티간에 통신하는 규칙 만을 프로토콜이라고 함
    - 즉, layer protocol만을 프로토콜로 간주

* TCP/IP 모델에서는 프로토콜 정의가 다소 느슨
    - 여러 계층에 걸쳐 동작하는 프로토콜들도 있음.

### OSI 7 Layer는 어떻게 구성되어 있는가?

![osi-7layer](./img/OSI_7_%EA%B3%84%EC%B8%B5.jpg)

1. 물리계층
    - 단말기기와 전송매체 사이의 인터페이스를 정의, 데이터링크 계층 엔티티간의 비트 전송을 위해
    - 비트단위 위주의 송수신
    - 잡음, 간섭, 왜곡, 지연의 영향을 받음

2. 데이터링크 계층
    - 잡음이 있는 인접 노드간의 물리적 회선을 네트워크 계층(3layer)이 신뢰적으로 사용할 수 있도록 전송에러가 없는 통신채널로 변환하는 계층
    - 주요기능
        - 3계층 프로토콜을 전송/운반/전달하는 역할
        - 프레이밍
            - 데이터를 프레임으로 그룹화
            - 데이터의 프레임화를 물리계층에 의해서 제공되는 비트 파이프를 패킷화된 링크로 변환
            - 전송할 데이터를 전송단위로서의 패킷으로 나누어 그룹화 시킴
        - 흐름제어
            - 보내는 측과 받는 측간의 속도차를 보상
        - 에러제어
            - 에러보정을 위한 에러제어 등의 기능들을 제공
                - 물리 전송 매체의 특성상 오류와 잡음이 랜덤하게 발생할 확률이 높음
                - 오류를 검출하고 수정
            - 정확하게 수신되지않는 패킷들을 재전송
        - 순서화
            - 패킷이나 ACK 신호를 잘못 혼동하는 것을 피하기 위해 Sequence Number가 부여됨
        - 연결 관리
        - 매체접근 제어
        - 데이터링크 내 노드간 식별성 제공

3. 네트워크 계층
    - 대표적인 프로토콜로는 IP, X.25가 있음
    - 주요 역할
        - 경로 제어(라우팅)
            - 단말기 혹은 컴퓨터가 어떤 망에 접속되어 있을 때 송신하고자 하는 정보가 망을 통해서 어떻게 상대방 수신측까지 전달되는가를 제어하는 일을 담당
        - 투명성
            - 상위의 Transport Layer가 경로선택과 중계 등,
            - 망계층 고유기능에 대해 의식하지 않도록 투명하게하는 역할
        - 논리적 주소체계 부여(IP)
        - 연결지향성 및 비연결 서비스 제공

4. 전송계층
    - 양단간 어떤 망이 사용되었는지 의식하지 않고,
    - 쌍방 응용 프로세스 간에 투명하고 신뢰성있게 양단 간에 논리적인 통신을 이루는 계층
    - 호스트 내의 응용 프로세스 상호간의 통신을 지원

    - 주요기능
        - 소프트웨어적인 3계층과 하드웨어적인 하위 3계층 사이에 중간 성격
        - 네트워크가 아닌 호스트 내에 구동된 프로세스 사이의 연결 확립
            - 두 호스트간 보다 프로세스간 통신으로 바꿔줌
            - 양 호스트의 종단간 응용프로세스 상호 간의 통신을 지원
        - 투명한 전송
            - 세션계층 - 전송계층 - 네트워크계층 간에 내용이 바뀜없이 투명하게 전송
        - 두 종단간 프로세스에 성립된 세션 제어
            - 세션을 가지고 있는 두 이용자 사이의 전송을 위한 종단간 제어
        - 신뢰 전송 지원
            - 동일 또는 이기종 시스템 간에 어떤 망이 어떻게 연결이 되는 상관없이 정보를 틀림없이 상대 단말기에 전달
        - 다중화/역다중화 지원
            - 여러개의 논리적 연결을 가능하게 하는 다중화(Multiplexing)
        - 지연에 따른 왜곡 및 대역폭 부족에 대한 일부 보상

5. 세션계층
    - 네트워크 상에서, 양 종단간 일회용 논리적 연결
    - 종단 호스트 프로세스 간에 세션을 생성, 유지, 종료하는데 필요한 여러 기능을 제공
    - 세션 설정 프로토콜
        -  세션의 설정, 변경, 해지와 관련된 프로토콜(SIP, SDP)
    - 세션 키
        - 하나의 논리적 연결 세션 동안 만 유효한 암호 키
    - 주요기능
        - 세션을 설정, 관리, 해제
        - 대화 관리
        - 다중화
        - 대화 단위별 그룹화
        - 데이터의 범주화 교환

6. 표현계층
    - 네트워크 상의 여러 이기종 시스템들이 저마다 다른 데이터 표현 방식을 사용하는데, 이를 하나의 통일된 구문형식으로 변환시키는 기능을 수행
    - 데이터 값이 여러 다양한 시스템에서 다른 방법으로 표현 및 저장됨
    - 응용계층의 다양한 표현방식을 공통의 형식으로 전환
    - 주요 기능
        - 암호화
        - 압축
        - 코드 변환(ASCII, Binary emd), 파일변환, 문장 축소 등
        - 가상 터미널 규약

7. 응용 계층
    - 최종적으로 사용자가 볼 수 있는 유일한 계층
    - 응용계층 프로세스들 사이의 통신은, 하위 표현계층이 제공하는 서비스를 이용함.
    - 전자메일, 가상단말, 파일 송수신, 웹 응용

![OSI-7layer-PDU](./img/OSI_7_%EA%B3%84%EC%B8%B5_%EB%8B%A8%EC%9C%84.png)

### 참고

http://wiki.hash.kr/index.php/OSI_7_%EA%B3%84%EC%B8%B5